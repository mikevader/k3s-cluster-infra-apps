---
apiVersion: v1
kind: ConfigMap
metadata:
  name: renovate-config
data:
  config.json: |-
    {
      "allowPostUpgradeCommandTemplating": true,
      "allowedPostUpgradeCommands": ["^.*$", "^sed -i", "^cd "],
      "repositories": ["mikevader/container-images","mikevader/charts","mikevader/k3s-cluster-infra-apps"],
      "hostRules": [
        {
          "hostType": "docker",
          "matchHost": "https://ghcr.io",
          "password": "{{ secrets.GITHUB_TOKEN}}",
          "token": "{{ secrets.GITHUB_TOKEN}}"
        },
        {
          "hostType": "docker",
          "matchHost": "https://ghcr.io/v2",
          "password": "{{ secrets.GITHUB_TOKEN}}",
          "token": "{{ secrets.GITHUB_TOKEN}}"
        }
      ]
    }
