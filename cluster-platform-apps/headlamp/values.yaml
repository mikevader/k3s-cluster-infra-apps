headlamp:

  config:
    oidc:
      secret:
        create: false
      externalSecret:
        enabled: true
        name: oidc-secret
  watchPlugins: true

  pluginsManager:
    enabled: true
    configContent: |
      plugins:
        - name: cert-manager
          source: https://artifacthub.io/packages/headlamp/headlamp-plugins/headlamp_cert-manager
          version: 0.1.0
        - name: flux
          source: https://artifacthub.io/packages/headlamp/headlamp-plugins/headlamp_flux
          version: 0.4.0

  ingress:
    enabled: true
    annotations:
      kubernetes.io/tls-acme: "true"
      traefik.ingress.kubernetes.io/router.middlewares: headlamp-forward-headers@kubernetescrd
    ingressClassName: traefik
    hosts:
      - host: headlamp.framsburg.ch
        paths:
          - path: /
            type: ImplementationSpecific
    tls:
      - secretName: headlamp-framsburg-ch-tls
        hosts:
          - headlamp.framsburg.ch
